/**
 * #.# Editor Common SCSS
 * The CSS here will be rendered only in the editor.
 * Useful styles for components/controls 
 *
**/

// Show & Hide.
.athemes-element-hide {
    display: none;
}
.athemes-element-show {
    display: block;
}

// Aligns
.athemes-blocks-editor-preview-tablet,
.athemes-blocks-editor-preview-mobile {
    .alignwide,
    .aligncenter {
        width: 100%;
        max-width: 100%;
    }
}

// Sidebar Style
.athemes-block-selected {
    .interface-complementary-area-header,
    .block-editor-block-card {
        background: #F2F2F2;
    }
    .interface-complementary-area-header {
        z-index: 2;
    }
}

// Tabs Buttons
.athemes-blocks-inspector-tabs-buttons-wrapper {
    display: flex;
    border-top: 1px solid #D9D9D9;
    > button {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        padding: 20px 0;
        cursor: pointer;
        border: 0;
        &:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
        }
        &:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            height: 2px;
            width: 100%;
            background-color: transparent;
        }
        > svg {
            margin-bottom: 7px;
        }

        & + button {
            border-left: 1px solid #D9D9D9;
        }
    }
}

// Tabs Content
.athemes-blocks-tab-active-settings {
    .athemes-blocks-inspector-tabs-buttons-wrapper {
        .athemes-blocks-inspector-tabs-button-settings {
            background: #FFF;
            color: #335EEA;
            font-weight: 600;
            &:before {
                background-color: #335EEA;
            }
            &:after {
                background-color: #FFF;
            }
            svg {
                path {
                    fill: #335EEA;
                }
            }
        }
    }
}
.athemes-blocks-tab-active-style {
    .athemes-blocks-inspector-tabs-buttons-wrapper {
        .athemes-blocks-inspector-tabs-button-style {
            background: #FFF;
            color: #335EEA;
            font-weight: 600;
            &:before {
                background-color: #335EEA;
            }
            &:after {
                background-color: #FFF;
            }
            svg {
                path {
                    fill: #335EEA;
                }
            }
        }
    }
}
.athemes-blocks-tab-active-advanced {
    .athemes-blocks-inspector-tabs-buttons-wrapper {
        .athemes-blocks-inspector-tabs-button-advanced {
            background: #FFF;
            color: #335EEA;
            font-weight: 600;
            &:before {
                background-color: #335EEA;
            }
            &:after {
                background-color: #FFF;
            }
            svg {
                path {
                    stroke: #335EEA;
                }
            }
        }
    }
}

.athemes-blocks-inspector-tabs-content-layout {
    .components-panel__body.is-opened  {
        > .components-panel__body-title {
            margin-bottom: 15px;
        }
    }
    .components-panel__body {
        > .components-panel__body-title {
            background: #FFF;
            &:hover,
            &:focus {
                background: #FFF !important;
                > button {
                    color: #335EEA;
                    svg {
                        path {
                            fill: #335EEA;
                        }
                    }
                }
            }
        }
    }
}

// Show only when the tab advanced is active
.athemes-blocks-tab-active-layout,
.athemes-blocks-tab-active-style {
    .block-editor-block-inspector__advanced {
        display: none;
    }
}

// Style the advanced panel
.athemes-blocks-tab-active-advanced {
    .block-editor-block-inspector__advanced {
        > .components-panel__body-title {
            background: #FFF;
            margin-bottom: 20px;
            &:hover,
            &:focus {
                background: #FFF !important;
                > button {
                    color: #335EEA;
                    svg {
                        path {
                            fill: #335EEA;
                        }
                    }
                }
            }
        }
    }
}

// Space between controls
.athemes-blocks-button-group-control {
    & + .components-base-control,
    & + .athemes-blocks-base-control,
    & + .athemes-blocks-device-type-control {
        margin-top: 25px;
    }
}

// Base Control
.athemes-blocks-base-control {
    position: relative;

    &.athemes-blocks-base-control-reverse-form-toggle {
        .components-base-control__field {
            display: flex;
            flex-direction: row-reverse;
            justify-content: flex-end;
            .components-base-control__label {
                margin-left: 15px;
            }
        }
    }
}

// Button Group Control
.athemes-blocks-button-group-control {
    display: flex;
    > .components-button {
        width: 100%;
        justify-content: center;
    }
}

// Spacement Control
.athemes-blocks-spacement-control {
    position: relative;
    .components-base-control__label {
        > svg {
            position: relative;
            top: 2px;
        }
    }
    .components-range-control__wrapper {
        margin-left: 35px;
    }
    .components-base-control__field {
        display: flex;
        .components-range-control__wrapper {
            margin-left: 15px;
        }
    }
}

// Responsive Device Type Control
.athemes-blocks-device-type-control {
    position: relative;
    .athemes-blocks-device-type-control-wrapper {
        position: absolute;
        top: -13px;
        right: 0;
        width: 133px;
        z-index: 1;
        .components-button {
            padding: 0 2px;
        }
        .components-tab-panel__tabs {
            justify-content: space-between;
            align-items: center;
            .components-tab-panel__tabs-item {
                .dashicon {
                    font-size: 15px;
                }
            }
        }
        .components-button-group {
            > button:nth-child(3) + div {
                margin-bottom: 0;
            }   
        }

        &.no-units {
            width: 63px;
        }
        &.with-units {
            right: 16px;
        }
    }

    & + .components-base-control {
        .components-base-control__label {
            margin-bottom: 18px;
        }
        .components-input-control__label {
            margin-bottom: 11px !important;
        }
    }

    .athemes-blocks-device-type-control-icon {
        box-shadow: none !important;
        &:hover,
        &.active-tab {
            svg {
                rect, polygon, line {
                    stroke: #335EEA;
                }
            }
        }
    }
}

.athemes-blocks-devicetype-control-group {
    position: absolute;
    top: 1px;
    right: 0;
    .components-button {
        max-width: 20px;
    }
}

.athemes-blocks-unit-control-group {
    position: absolute;
    top: -2px;
    right: 59px;
    justify-content: flex-end !important;
    width: 27px;
    transition: ease width 300ms;
    overflow: hidden;
    .athemes-blocks-unit-control-icon {
        font-size: 12px;
        box-shadow: none !important;
        padding: 0 6px !important;
        color: #777;
        transition: ease padding 300ms;
        &.active {
            order: 1;
            color: #335EEA;
        }
    }
    &:hover {
        width: 133px;
        .athemes-blocks-unit-control-icon {
            &:not(.active) {
                padding: 0 3px !important;
            }
            &.active {
                order: 0;
            }
        }
    }
}

.athemes-blocks-spacement-toggle-icon {
    position: absolute;
    top: 7px;
    right: -18px;
    box-shadow: none !important;
    max-width: 20px;
}

// Responsive Preview
.athemes-blocks-responsive-preview-tablet,
.athemes-blocks-responsive-preview-mobile {
    margin: 0 auto;
}
.athemes-blocks-responsive-preview-tablet {
    max-width: 720px;
}
.athemes-blocks-responsive-preview-mobile {
    max-width: 320px;
}

#widgets-editor,
#customize-theme-controls {
    .athemes-blocks-editor-preview-mobile,
    .athemes-blocks-editor-preview-tablet,
    .athemes-blocks-editor-preview-desktop {
        position: relative;
        &:before {
            position: absolute;
            top: 0;
            right: 0;
            background: #FFF;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
        }
    }
    .athemes-blocks-editor-preview-mobile {
        &:before {
            content: url("data:image/svg+xml,%3Csvg width='17' height='17' viewBox='-5 -5 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='2' height='30' rx='2' ry='2' width='18' x='7' y='1'/%3E%3Cline fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='2' x1='15' x2='17' y1='27' y2='27'/%3E%3Cpath fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='2' d='M20,1V3a2,2,0,0,1-2,2H14a2,2,0,0,1-2-2V1'/%3E%3C/svg%3E");
        }
    }
    .athemes-blocks-editor-preview-tablet {
        &:before {
            content: url("data:image/svg+xml,%3Csvg width='17' height='17' viewBox='-4 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='2' height='30' rx='2' ry='2' width='22' x='5' y='1'/%3E%3Cline fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='2' x1='14' x2='18' y1='27' y2='27'/%3E%3C/svg%3E");
        }
    }
    .athemes-blocks-editor-preview-desktop {
        &:before {
            content: url("data:image/svg+xml,%3Csvg width='17' height='17' viewBox='-5 -5 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='5' height='24' rx='2' ry='2' width='30' x='1' y='1'/%3E%3Cpolygon fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='5' points='21 31 11 31 12 25 20 25 21 31'/%3E%3Cline fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='5' x1='9' x2='23' y1='31' y2='31'/%3E%3Cline fill='none' stroke='%23212121' strokeLinecap='round' strokeLinejoin='round' strokeWidth='5' x1='1' x2='31' y1='21' y2='21'/%3E%3C/svg%3E");
        }
    }

}

// Unit Select/Dropdown
.athemes-blocks-select-control-unit {
    margin-top: 3px;
    select {
        text-transform: none !important;
    }
}

// Inspector controls block icon
.athemes-block-icon {
    fill: none !important;
}

// Change color of default GB controls
.athemes-blocks-inspector-tabs-content-wrapper {
    .components-button,
    .components-button.is-pressed:hover:not(:disabled) {
        background-color: transparent;
    }
    .components-range-control__track,
    .components-button.is-primary {
        background: #335EEA;
    }
    .components-button.is-primary:hover:not(:disabled) {
        background: #1d47ce;
    }
    .components-button:hover,
    .components-button[aria-expanded="true"] {
        color: #335EEA;
    }
    .components-button.is-secondary {
        box-shadow: inset 0 0 0 1px #335EEA;
        color: #335EEA;
    }
    .components-button.is-tertiary:hover:not(:disabled),
    .components-button.is-secondary:hover:not(:disabled) { 
        box-shadow: inset 0 0 0 1px #1d47ce;
        color: #1d47ce;
    }
}